{% extends 'base.html.twig' %}
{% block title %}

{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css" integrity="sha512-sMXtMNL1zRzolHYKEujM2AqCLUR9F2C4/05cdbxjjLSRvMQIciEPCQZo++nk7go3BtSuK9kfa/s+a4f4i5pLkw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
{% endblock %}
{% block body %}
    <section class="custom-section home-first-section">
        <div id="first-section-content" class="custom-container custom-container-padding">
            <div class="first-section-block">
                <h1>MY MIND SUPPORT</h1>
                <p>
                    My Mind Support est lieu d'aide et de soutien pour les personnes souffrant de troubles psychologiques. Mon objectif est de vous aider à vous sentir mieux, à vous accompagner et à vous soutenir dans votre guérison. Vous trouverez ici toutes les informations nécessaires pour comprendre ce que vous traversez, les démarches à suivre, les personnes à contacter ainsi que de l'aide et des conseils.
                </p>
                <p class="home-presentation-quote">
                    « Avec les bonnes solutions, vous pouvez retrouver un quotidien paisible »
                </p>
            </div>
            <div class="first-section-buttons">
                <div>
                    <a href="{{ path('app_emergency_number_index') }}" class="btn btn-style-urgence">NUMÉROS D'URGENCE</a>
                </div>
                <div>
                    <a data-bs-toggle="modal" data-bs-target="#whatToDoHomeModal" class="btn btn-style-one">QUOI FAIRE ?</a>
                </div>
                <div>
                    <a href="{{ path('app_knowledge_index') }}" class="btn btn-style-two">TOUT SAVOIR</a>
                </div>
            </div>
            <div class="first-section-important">
                <h3>LES POINTS IMPORTANTS</h3>
                <div class="first-section-important-cards">
                    <div class="important-card">
                        <a data-bs-toggle="modal" data-bs-target="#understandHomeModal">
                            <img src="{{ asset('images/reading_child_light.jpeg') }}" alt="Tout savoir">

                            <div class="important-card-text">
                                <h5>Bien comprendre</h5>
                                <p>ce que vous traversez</p>
                            </div>
                        </a>
                    </div>
                    <div class="important-card">
                        <a data-bs-toggle="modal" data-bs-target="#doctorHomeModal">
                            <img src="{{ asset('images/dog_cat_doctor_light.jpeg') }}" alt="Médecin traitant">

                            <div class="important-card-text">
                                <h5>Votre médecin</h5>
                                <p>votre première aide</p>
                            </div>
                        </a>
                    </div>
                    <div class="important-card">
                        <a data-bs-toggle="modal" data-bs-target="#psyHomeModal">
                            <img src="{{ asset('images/psychotherapy_light.jpeg') }}" alt="Mon psy, ce héro">

                            <div class="important-card-text">
                                <h5>Le psy</h5>
                                <p>votre meilleur atout</p>
                            </div>
                        </a>
                    </div>
                    <div class="important-card">
                        <a data-bs-toggle="modal" data-bs-target="#communityHomeModal">
                            <img src="{{ asset('images/dog_community_light.jpeg') }}" alt="Toute une communauté pour vous">
                            <div class="important-card-text">
                                <h5>En parler</h5>
                                <p>afin d'être soutenu</p>
                            </div>
                        </a>
                    </div>
                </div>
                {% include 'front/home/_homeModal.html.twig' %}
            </div>
        </div>
    </section>
    <section class="custom-section home-second-section">
        <div id="second-section-content" class="custom-container">
            <h2>ÉCOUTE ATTENTIVE, CONSEILS AVISÉS ET SOUTIEN</h2>
            <div class="second-section-content-block">
                <p>
                    Sur My Mind Support, mon but est de vous apporter un maximum d'informations, une écoute attentive et les principaux conseils à connaitre. Être écouté, compris, conseillé et soutenu est une bonne base pour avancer et se sentir mieux.
                </p>
                <p>
                    Ayant traversé un trouble anxieux généralisé (TAG) et un trouble panique, je me base sur mon expérience ainsi que mes recherches pour vous aider et vous conseiller. Je me dois de préciser cela, car je ne suis pas un professionnel de la santé.
                </p>
                <p>
                    Vous pouvez retrouver mon parcours et mes expériences dans la section <a href="#">Mon parcours</a>.
                </p>
                <p>
                    Vous pouvez compter sur mon aide ainsi que celles des autres utilisateurs via le <a href="{{ path('app_forum_index') }}">Forum</a>, ou vous tourner uniquement vers moi en <a href="{{ path('app_conversation_index') }}">Discussion privée</a>.
                </p>
                <p>
                    Et qui sait, peut-être que vous pourrez à votre tour aider d'autres personnes lorsque vous vous sentirez mieux.
                </p>
                <p>
                    Découvrez également les <a href="{{ path('app_testimony_index') }}">Témoignages</a> d'autres personnes ayant subi un trouble psychique. Vous n'êtes pas seul.e à vivre ce que vous traversez.
                </p>
            </div>
        </div>
    </section>
    <section class="custom-section home-help-section">
        <div id="help-section-content" class="custom-container">
            <div class="home-help-section-header">
                <h2>FORUM <span>vs</span> MESSAGE PRIVÉ</h2>
                <p>ou les deux</p>
            </div>
            <div class="help-section-block">
                <div class="help-section-block-items">
                    <div class="help-section-block-item">
                        <h4>Forum</h4>
                        <p>
                            Le forum est un bon moyen de demander de l'aide et des conseils à plusieurs personnes. <br>
                            Différents points de vue, conseils et soutiens peuvent vous aider à avancer et à vous sentir mieux.<br>
                        </p>
                        <p>Avantages :</p>
                        <ul>
                            <li>Tous les utilisateurs peuvent vous répondre et vous aider.</li>
                            <li>Votre message et les réponses peuvent aider d'autres personnes.</li>
                            <li>Vous pouvez à votre tour apporter votre aide à d'autres personnes.</li>
                        </ul>
                    </div>
                    <div class="help-section-block-item-button">
                        <a href="{{ path('app_forum_index') }}" class="btn btn-style-two">FORUM</a>
                    </div>
                </div>
                <div class="help-section-block-items">
                    <div class="help-section-block-item">
                        <h4>Message privé</h4>
                        <p>
                            Vous ne préférez pas partager ce que vous traversez avec tout le monde ? Vous pouvez utiliser les messages privés afin de demander aide, conseils et soutien.<br>
                            Je suis là pour vous lire, vous répondre, vous aider et vous conseiller.
                        </p>
                        <p>Avantages :</p>
                        <ul>
                            <li>Vos messages sont privés, visibles uniquement par vous et moi.</li>
                            <li>Demandez à tout moment aide et conseils.</li>
                            <li>Une discussion suivie dans le temps si besoin, permettant d'être accompagné.e et soutenu.e jusqu'à la guérison.</li>
                        </ul>
                    </div>
                    <div class="help-section-block-item-button">
                        <a href="{{ path('app_conversation_index') }}" class="btn btn-style-two">MESSAGE PRIVÉ</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="custom-section home-data-section">
        <div id="data-section-content" class="custom-container">
            <div class="home-data-section-block home-data-numbers-block">
                <h2>LES CHIFFRES CLÉS</h2>
                <div class="home-data-numbers-info">
                    <div class="home-data-numbers-info-item">
                        <span><i class="fa-regular fa-user"></i> {{ homeCount.nbUsers }}</span>
                        <p>Utilisateurs</p>
                    </div>
                    <div class="home-data-numbers-info-item">
                        <span><i class="fa-solid fa-user-nurse"></i> {{ homeCount.nbVolunteers }}</span>
                        <p>Bénévoles</p>
                    </div>
                    <div class="home-data-numbers-info-item">
                        <span><i class="fa-regular fa-message"></i> {{ homeCount.nbForumSubjects }}</span>
                        <p>Sujets sur le forum</p>
                    </div>
                    <div class="home-data-numbers-info-item">
                        <span><i class="fa-regular fa-comment"></i> {{ homeCount.nbUserMessages }}</span>
                        <p>Messages privés</p>
                    </div>
                    <div class="home-data-numbers-info-item">
                        <span><i class="fa-solid fa-comment-medical"></i> {{ homeCount.nbUserTestimony }}</span>
                        <p>Témoignages</p>
                    </div>
                    <div class="home-data-numbers-info-item">
                        <span><i class="fa-solid fa-blog"></i> 18</span>
                        <p>Actualités</p>
                    </div>

                        <div class="home-data-numbers-info-item">
                            <span><i class="fa-solid fa-check"></i> {{ homeCount.nbUserReviews }}</span>
                            <p>Avis</p>
                        </div>
                        <div class="home-data-numbers-info-item">
                            {% if homeCount.nbUserReviews > 0 %}
                                <span><i class="fa-solid fa-star"></i> {{ homeCount.averageRate }}/5</span>
                            {% else %}
                                <span><i class="fa-solid fa-star"></i> -/5</span>
                            {% endif %}
                            <p>Note moyenne</p>
                        </div>

                </div>
            </div>
        </div>
    </section>
    {% if lastTestimony %}
        <section class="custom-section home-testimony-section">
            <div id="testimony-section-content" class="custom-container">
                <h2>LE DERNIER TÉMOIGNAGE</h2>
                <div class="testimony-section-header-info">
                    <p>Par <span>{{ lastTestimony.user.username }}</span></p>
                    <p>Le 23/09/23</p>
                </div>
                <div class="testimony-section-block">
                    <p>
                        {{ lastTestimony.content|slice(0, 600)|striptags }} ...
                    </p>
                </div>
                <div class="testimony-section-buttons">
                    <a href="{{ path('app_testimony_show', {'token': lastTestimony.token}) }}" class="btn btn-style-one">LIRE LA SUITE</a>
                    <a href="{{ path('app_testimony_index') }}" class="btn btn-style-two">TOUS LES TÉMOIGNAGES</a>
                </div>
            </div>
        </section>
    {% endif %}
    <section class="custom-section home-commitment-section">
        <div id="commitment-section-content" class="custom-container">
            <div class="home-commitment-section-block">
                <h2>MES ENGAGEMENTS</h2>
                <div class="home-commitment-text">
                    <p>La vie privée ainsi que les données personnelles de chacuns.es sont deux éléments très importants à mes yeux. Je m'engage à les respecter au maximum en applicant strictement les points suivants :
                    </p>
                    <ul>
                        <li><i class="fa-regular fa-address-card"></i> Seuls un pseudo, une adresse e-mail et un mot de passe sont demandés afin de s'inscrire.</li>
                        <li><i class="fa-regular fa-comments"></i> Les messages (privés, forum, partage et témoignages) et leur contenu ne sont partagés à aucun tier.</li>
                        <li><i class="fa-solid fa-users"></i> Respect de votre vie privée dans les réponses faites et les questions posées.</li>
                        <li><i class="fa-solid fa-cookie"></i> Uniquement des Cookies basiques et non-intrusifs sont utilisés sur le site.</li>
                        <li><i class="fa-solid fa-trash-can"></i> Suppression rapide et totale des données personnelles en cas de demande.</li>
                    </ul>
                    <p>
                        En plus de cela, il me tient à cœur de proposer une aide et un soutien de manière totalement bénévole, et sans publicités.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="custom-section home-review-section">
        <div id="review-section-content" class="custom-container">
            <div class="home-review-section-block">
                <h2>LES AVIS</h2>
                {% if userReviews|length > 0 %}
                <div class="owl-carousel">
                    {% for review in userReviews %}
                    <div class="item">
                        <div class="owl-item-header">
                            <p>De <span>{{ review.user.username }}</span></p>
                            <p>Le {{ review.createdAt|date('d/m/y') }}</p>
                        </div>
                        <div class="owl-item-body">
                            {{ review.message }}
                        </div>
                        <div class="owl-item-footer">
                            <p>{{ review.rate}} <i class="fa-solid fa-star"></i> / 5</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                    {% else %}
                    <div class="home-review-section-no-review">
                        <p>Il n'y a pas encore d'avis utilisateur. Vous pouvez être le/la premier.ère.</p>
                    </div>
                {% endif %}
                <div class="home-review-section-links">
                    {% if app.user %}
                        {% if not app.user.userReview %}
                            <a href="{{ path('app_user_dashboard_review', {'id': app.user.id, 'dashboardToken': app.user.dashboardToken}) }}" class="btn btn-style-two">DONNER VOTRE AVIS</a>
                        {% endif %}
                    {% else %}
                        <a href="{{ path('app_register') }}" class="home-review-section-links-register">Inscrivez-vous pour laisser votre avis</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </section>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <script>
        $(document).ready(function(){
            $('.owl-carousel').owlCarousel({
                loop:true,
                center:true,
                autoplay:true,
                margin:8,
                responsiveClass:true,
                autoplayHoverPause:true,
                autoplayTimeout: 5000,
                nav:true,
                dots:true,
                responsive:{
                    0:{
                        items:1,
                        nav:true,
                        loop:true
                    },
                    600:{
                        items:1,
                        nav:true,
                        loop:true
                    },
                    1000:{
                        items:3,
                        nav:true,
                        dots:true,
                        loop:true,
                    }
                }
            })
        });
    </script>
{% endblock %}